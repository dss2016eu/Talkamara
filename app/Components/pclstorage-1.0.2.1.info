{"Name":"File System Plugin for Xamarin and Windows","Id":1819,"Alias":"pclstorage","Description":"# File System Plugin for Xamarin and Windows details\r\n\r\nThe File System Plugin for Xamarin and Windows provides a consistent, portable set \r\nof local file IO APIs for .NET, Windows Phone, Windows Store, Xamarin.iOS, \r\nXamarin.Android, and Silverlight. This makes it easier to create cross-platform \r\n.NET libraries and apps.\r\n\r\nDifferent .NET platforms have different APIs for accessing the file system or\r\nan app-local persisted storage area. The full .NET Framework provides the\r\nstandard file and directory APIs (in the System.IO namespace), Silverlight and\r\nWindows Phone provide isolated storage APIs, and WinRT provides storage APIs in\r\nthe Windows.Storage namespace.\r\n\r\nHere is a sample showing how you can use the File System Plugin for Xamarin and Windows\r\nto create a folder and write to a text file in that folder:\r\n\r\n```\r\npublic async Task CreateRealFileAsync()\r\n{\r\n    // get hold of the file system\r\n    IFolder rootFolder = FileSystem.Current.LocalStorage;\r\n    \r\n    // create a folder, if one does not exist already\r\n    IFolder folder = await rootFolder.CreateFolderAsync(\"MySubFolder\", CreationCollisionOption.OpenIfExists);\r\n    \r\n    // create a file, overwriting any existing file\r\n    IFile file = await folder.CreateFileAsync(\"MyFile.txt\", CreationCollisionOption.ReplaceExisting);\r\n    \r\n    // populate the file with some text\r\n    await file.WriteAllTextAsync(\"Sample Text...\");\r\n}\r\n```\r\n\r\n## APIs\r\n\r\nThe primary APIs in the File System Plugin for Xamarin and Windows are the \r\n`IFile`, `IFolder`, and `IFileSystem` interfaces. The APIs should be\r\nmostly self-explanatory and should feel very familiar if you have used \r\nthe WinRT storage APIs.\r\n\r\nThe `IFileSystem` interface is the main API entry point. You can get an instance\r\nof the implementation for the current platform with the `FileSystem.Current`\r\nproperty.\r\n","Version":"1.0.2.1","Summary":"The File System Plugin for Xamarin and Windows provides a consistent, portable set of local file IO APIs for Windows Phone, Xamarin.iOS and Xamarin.Android.","QuickStart":"# Getting Started with File System Plugin for Xamarin and Windows\r\n\r\nThe File System Plugin for Xamarin and Windows provides a consistent, portable set \r\nof local file IO APIs for .NET, Windows Phone, Windows Store, Xamarin.iOS,\r\nXamarin.Android, and Silverlight. This makes it easier to create cross-platform \r\n.NET libraries and apps.\r\n\r\nHere is a sample showing how you can use the File System Plugin for Xamarin and Windows\r\nto create a folder and write to a text file in that folder:\r\n\r\n```\r\npublic async Task CreateRealFileAsync()\r\n{\r\n    // get hold of the file system\r\n    IFolder rootFolder = FileSystem.Current.LocalStorage;\r\n    \r\n    // create a folder, if one does not exist already\r\n    IFolder folder = await rootFolder.CreateFolderAsync(\"MySubFolder\", CreationCollisionOption.OpenIfExists);\r\n    \r\n    // create a file, overwriting any existing file\r\n    IFile file = await folder.CreateFileAsync(\"MyFile.txt\", CreationCollisionOption.ReplaceExisting);\r\n    \r\n    // populate the file with some text\r\n    await file.WriteAllTextAsync(\"Sample Text...\");\r\n}\r\n```\r\n\r\n## Background information\r\n\r\nDifferent .NET platforms have different APIs for accessing the file system or\r\nan app-local persisted storage area. The full .NET Framework provides the\r\nstandard file and directory APIs (in the System.IO namespace), Silverlight and\r\nWindows Phone provide isolated storage APIs, and WinRT provides storage APIs in\r\nthe Windows.Storage namespace.\r\n\r\nThese differing APIs make it harder to write cross-platform code. Traditionally,\r\nyou could handle this via conditional compilation. However, that means you can\u0027t\r\ntake advantage of Portable Class Libraries, and in any case may not scale well\r\nas your code gets complex (and especially because for WinRT you need to use\r\nasync APIs).\r\n\r\nAlternatively, you can create an abstraction for the functionality you need\r\nacross platforms, and implement the abstraction for each platform you need to\r\nuse. This approach allows you to use Portable Class Libraries, and in general\r\nmakes your code cleaner and more maintainable by isolating the platform-specific\r\npieces instead of having them sprinkled arbitrarily throughout your code.\r\n\r\nWriting an abstraction layer is a bit of a barrier to entry to writing\r\ncross-platform code, and there\u0027s no reason everyone should have to do it\r\nseparately for functionality as commonly needed as local file IO. The\r\nFile System Plugin for Xamarin and Windows aims to provide a common abstraction\r\nthat is easy to take advantage of.\r\n\r\n## APIs\r\n\r\nThe primary APIs in the File System Plugin for Xamarin and Windows are the \r\n`IFile`, `IFolder`, and `IFileSystem` interfaces. The APIs should be mostly\r\nself-explanatory and should feel very familiar if you have used the WinRT \r\nstorage APIs.\r\n\r\nThe `IFileSystem` interface is the main API entry point. You can get an instance\r\nof the implementation for the current platform with the `FileSystem.Current`\r\nproperty.\r\n\r\nHere are some of the basic storage types:\r\n\r\n```\r\nnamespace PCLStorage\r\n{\r\n    public static class FileSystem\r\n    {\r\n        public static IFileSystem Current { get; }\r\n    }\r\n\r\n    public interface IFileSystem\r\n    {\r\n        IFolder LocalStorage { get; }\r\n        IFolder RoamingStorage { get; }\r\n\r\n        Task\u003cIFile\u003e GetFileFromPathAsync(string path);\r\n        Task\u003cIFolder\u003e GetFolderFromPathAsync(string path);\r\n    }\r\n\r\n    public interface IFolder\r\n    {\r\n        string Name { get; }\r\n        string Path { get; }\r\n\r\n        Task\u003cIFile\u003e CreateFileAsync(string desiredName, CreationCollisionOption option);\r\n        Task\u003cIFile\u003e GetFileAsync(string name);\r\n        Task\u003cIList\u003cIFile\u003e\u003e GetFilesAsync();\r\n\r\n        Task\u003cIFolder\u003e CreateFolderAsync(string desiredName, CreationCollisionOption option);\r\n        Task\u003cIFolder\u003e GetFolderAsync(string name);\r\n        Task\u003cIList\u003cIFolder\u003e\u003e GetFoldersAsync();\r\n\r\n        Task\u003cExistenceCheckResult\u003e CheckExistsAsync(string name, CancellationToken cancellationToken);\r\n\r\n        Task DeleteAsync();\r\n    }\r\n\r\n    public interface IFile\r\n    {\r\n        string Name { get; }\r\n        string Path { get; }\r\n\r\n        Task\u003cStream\u003e OpenAsync(FileAccess fileAccess);\r\n        Task DeleteAsync();\r\n        Task RenameAsync(string newName, NameCollisionOption collisionOption, CancellationToken cancellationToken);\r\n        Task MoveAsync(string newPath, NameCollisionOption collisionOption, CancellationToken cancellationToken);\r\n    }\r\n} \r\n\r\n```","Hash":"191ef5b06cc411180c70c880633f523c","TargetPlatforms":["ios","android"],"TrialHash":null}